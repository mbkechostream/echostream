<md-content>
  <div style="width: 100%;">
    <div style="float: left; width: 30%; padding: 20px;">
      <div class="facelist-title md-title">
        Collaborators
      </div>
      <div class="facelist-container">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
      </div>
    </div>
    <div style="border-left: 1px solid #f4f4f4; border-top: 1px solid #f4f4f4; float: left; width: 70%; margin: 0 auto; position: relative; padding: 20px;">
      <div layout="row" flex>
        <div
          ng-show="!wavesurfer.isPlaying()"
          style="z-index: 1; display: inline-block; height: 64px; width: 64px;"
          ng-click="playPreview()">
          <img src="/static/images/icons/play.png" style="width: 100%; height: 100%;">
        </div>
        <div
          ng-show="wavesurfer.isPlaying()"
          style="z-index: 1; display: inline-block; height: 64px; width: 64px;"
          ng-click="pausePreview()">
          <img src="/static/images/icons/pause.png" style="width: 100%; height: 100%;">
        </div>
        <div flex style="padding-left: 20px;" layout="row">
          <md-input-container flex>
            <label>Title</label>
            <input type="text" ng-model="preview.title">
          </md-input-container>
        </div>
        <div flex="20" style="text-align: center;" ng-show="preview">
          <md-button class="btn-primary" ng-click="publish(preview)">Echo Track</md-button>
        </div>
      </div>
      <div ng-show="preview" style="position: relative; width: 100%; height: 80px;">
        <div class="preview"></div>
      </div>
    </div>
  </div>
  <div style="width: 100%; border-top: 1px solid #f4f4f4;">
    <div style="float: left; width: 30%; padding: 20px;">
      <div class="facelist-title md-title">
        Collaborators
      </div>
      <div class="facelist-container">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
        <img src="/static/images/icons/PlaceHolderCollaboratorIcon.png" class="face">
      </div>
    </div>
    <div style="border-left: 1px solid #f4f4f4; border-top: 1px solid #f4f4f4; float: left; width: 70%; margin: 0 auto; position: relative;">
      <div ng-repeat="sample in samples track by $index" style="position: relative; width: 100%; height: 80px;">
        <div ng-show="sample">
          <div
            style="z-index: 1; position: absolute; height: 100%; width: 80px; left: 0px; background-color: rgba(32, 32, 32, 0.5);"
            ng-click="remove($index)">
            <img src="/static/images/icons/remove.png" style="width: 60%; height: 60%; margin: 20%;">
          </div>
          <div
            ng-show="sample.audio.paused"
            style="z-index: 1; position: absolute; height: 100%; width: 80px; left: 80px; background-color: rgba(32, 32, 32, 0.5);"
            ng-click="play(sample)">
            <img src="/static/images/icons/playgrey.png" style="width: 60%; height: 60%; margin: 20%;">
          </div>
          <div
            ng-show="!sample.audio.paused"
            style="z-index: 1; position: absolute; height: 100%; width: 80px; left: 80px; background-color: rgba(32, 32, 32, 0.5);"
            ng-click="pause(sample)">
            <img src="/static/images/icons/pausegrey.png" style="width: 60%; height: 60%; margin: 20%;">
          </div>
        </div>
        <div ng-show="!sample">
          <div
            style="z-index: 1; position: absolute; height: 100%; width: 80px; left: 0px; background-color: rgba(32, 32, 32, 0.5);"
            ngf-select="upload($file, $index)"
            ngf-pattern="'audio/wav'">
            <img src="/static/images/icons/loop.png" style="width: 60%; height: 60%; margin: 20%;">
          </div>
          <div
            ng-show="!openStream[$index]"
            style="z-index: 1; position: absolute; height: 100%; width: 80px; left: 80px; background-color: rgba(32, 32, 32, 0.5);"
            ng-click="startRecording($index)">
            <img src="/static/images/icons/record.png" style="width: 60%; height: 60%; margin: 20%;">
          </div>
          <div
            ng-show="!!openStream[$index]"
            style="z-index: 1; position: absolute; height: 100%; width: 80px; left: 80px; background-color: rgba(32, 32, 32, 0.5);"
            ng-click="stopRecording($index)">
            <img src="/static/images/icons/pausegrey.png" style="width: 60%; height: 60%; margin: 20%;">
          </div>
        </div>
        <div style="z-index: 0; position: absolute; left: 0px; height: 100%; width: 160px; background-color: {{ calculateColor($index); }}"></div>
        <div style="z-index: 0; position: absolute; left: 160px; height: 100%; width: calc({{ calculatePct(sample, samples) }}% - 160px); background-color: {{ calculateColor($index); }}"></div>
        <div ng-show="sample.loop" style="z-index: 1; position: absolute; right: 5px; bottom: 5px; width: 40px; padding: 10px; background-color: rgba(32, 32, 32, 0.5); border-radius: 40px;">
          <img src="/static/images/icons/loopwav.png" style="width: 100%;"></img>
        </div>
      </div>
    </div>
    <div style="clear: both;">
  </div>

</md-content>
